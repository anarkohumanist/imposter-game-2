<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Kim Ä°mpostor?</title><script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script><script src="https://unpkg.com/react@18/umd/react.production.min.js"></script><script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script><script src="https://unpkg.com/@babel/standalone/babel.min.js"></script><script src="https://cdn.tailwindcss.com"></script><style>*{-webkit-tap-highlight-color:transparent}body{margin:0;padding:0;overflow:hidden;position:fixed;width:100%;height:100%}#root{width:100%;height:100%;overflow-y:auto}input,button,select{font-size:16px!important}.pulse{animation:pulse 2s cubic-bezier(0.4,0,0.6,1) infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}</style></head><body><div id="root"></div><script type="text/babel">
const{useState,useEffect,useRef}=React;
const firebaseConfig={
    apiKey:"AIzaSyDiuOvT3TECVgnKpYSdcEadtcj0eirVLR4",
    authDomain:"imposter-iyzc-is.firebaseapp.com",
    databaseURL:"https://imposter-iyzc-is-default-rtdb.firebaseio.com",
    projectId:"imposter-iyzc-is",
    storageBucket:"imposter-iyzc-is.firebasestorage.app",
    messagingSenderId:"434645266924",
    appId:"1:434645266924:web:6e0f6fd9d49546cdf050c9"
};
let database;
try{
    if(!firebase.apps.length)firebase.initializeApp(firebaseConfig);
    database=firebase.database();
}catch(e){console.error(e)}

const CAT={
    karisik:{name:"ğŸ² KarÄ±ÅŸÄ±k",words:["Inception","Titanik","Avatar","Harry Potter","Star Wars","Matrix","Breaking Bad","Friends","Squid Game","Wednesday","The Last of Us","Dark","Peaky Blinders","Amerika","Ä°ngiltere","Fransa","Almanya","Ä°talya","Japonya","Brezilya","Avustralya","Kanada","Ä°spanya","Ã‡in","Lamborghini","Porsche","Mercedes","BMW","Audi","Tesla","Toyota","Ford","Bugatti","Rolls Royce","McLaren","Sanal Pos","retry","3D Secure","Pricing","elazig"]},
    music:{name:"ğŸµ MÃ¼zik",words:["Tarkan","Sezen Aksu","Beyonce","Taylor Swift","Ed Sheeran","Adele","Drake","Queen","Beatles","Coldplay","Billie Eilish","Rihanna","Eminem"]},
    sports:{name:"âš½ Spor",words:["Messi","Ronaldo","Neymar","Mbappe","Haaland","Galatasaray","FenerbahÃ§e","BeÅŸiktaÅŸ","Barcelona","Real Madrid","Liverpool","Bayern Munich"]},
    games:{name:"ğŸ® Oyunlar",words:["Minecraft","Fortnite","Among Us","FIFA","GTA","Valorant","PUBG","League of Legends","Pokemon","Mario","Zelda","Roblox"]},
    food:{name:"ğŸ” Yemek",words:["Pizza","Burger","Kebap","Sushi","Pasta","Baklava","DÃ¶ner","MantÄ±","BÃ¶rek","Lahmacun","KÃ¼nefe","Ramen"]},
    animals:{name:"ğŸ¾ Hayvanlar",words:["Aslan","Kaplan","Fil","ZÃ¼rafa","KÃ¶pek","Kedi","Yunus","Balina","Panda","Koala","Kanguru","Kurt"]},
    tech:{name:"ğŸ“± Teknoloji",words:["Apple","Samsung","Google","Microsoft","iPhone","PlayStation","Xbox","Netflix","Spotify","Tesla","TikTok","Instagram"]},
    celebrities:{name:"ğŸ­ ÃœnlÃ¼ler",words:["Tarkan","Mehmet AtlÄ±","Huseyin Cavusoglu","Burcu Ozdemir","Hz.Ali","Akif Sezer","Orkun Saitoglu","Can BakÄ±r","Ã‡aÄŸdaÅŸ AteÅŸ","Kadir BÃ¼yÃ¼kbay","Serpil Pir","Duygu Sesli","Elif Nailoglu","Aleyna Sevindik","Berkay Ak","Oguzhan Sahin","Koray Tekmen","Sinan SarÄ±ca","Aybuke Coskun","DoÄŸa Ozan","Utku Ulas Topac"]}
};

function App(){
    const[s,setS]=useState('menu');
    const[pn,setPn]=useState('');
    const[rc,setRc]=useState('');
    const[irc,setIrc]=useState('');
    const[in1,setIn]=useState('');
    const[rm,setRm]=useState(null);
    const[ih,setIh]=useState(false);
    const[sc,setSc]=useState(null);
    const[mr,setMr]=useState(null);
    const[g,setG]=useState('');
    const[hg,setHg]=useState(false);
    const[loading,setLoading]=useState(false);
    const rr=useRef(null);
    const pnRef=useRef(pn);
    const ihRef=useRef(ih);
    const scRef=useRef(sc);
    useEffect(()=>{pnRef.current=pn},[pn]);
    useEffect(()=>{ihRef.current=ih},[ih]);
    useEffect(()=>{scRef.current=sc},[sc]);

    useEffect(()=>{
        if(!rc||!database)return;
        rr.current=database.ref(`rooms/${rc}`);
        const l=rr.current.on('value',snap=>{
            const d=snap.val();
            if(!d)return;
            setRm(d);

            // Oyun baÅŸladÄ± â†’ game ekranÄ±na geÃ§
            if(d.gameState==='playing'){
                const mp=d.players?.find(p=>p.name===pnRef.current);
                if(mp){
                    setMr(mp.role);
                    setS(prev=>prev!=='game'?'game':prev);
                }
                // TÃ¼m crewmate'ler oy verdiyse sonucu hesapla (sadece host)
                if(ihRef.current){
                    const cms=d.players?.filter(p=>p.role==='crewmate')||[];
                    const allVoted=cms.length>0&&cms.every(p=>p.guess!==null&&p.guess!==undefined);
                    if(allVoted){
                        calcResults(d);
                    }
                }
            }

            // SonuÃ§lar hazÄ±r â†’ herkes results ekranÄ±na geÃ§sin
            if(d.gameState==='results'){
                setS('results');
            }

            // Yeni tur â†’ lobby'ye dÃ¶n
            if(d.gameState==='lobby'){
                setS(prev=>{
                    if(prev==='results'||prev==='game'){
                        setMr(null);
                        setHg(false);
                        setG('');
                        setSc(null);
                        return 'lobby';
                    }
                    return prev;
                });
            }
        });
        return()=>{if(rr.current)rr.current.off('value',l)}
    },[rc]);

    const calcResults=async(currentRoom)=>{
        // Zaten hesaplanmÄ±ÅŸsa tekrar hesaplama
        if(currentRoom.gameState==='results')return;
        const imp=currentRoom.players.find(p=>p.role==='impostor');
        const cms=currentRoom.players.filter(p=>p.role==='crewmate');
        const cg=[];
        const up=[...currentRoom.players];
        cms.forEach(pl=>{
            const pi=up.findIndex(p=>p.name===pl.name);
            if(imp.name.toLowerCase()===pl.guess?.toLowerCase()){
                cg.push(pl.name);
                up[pi].points+=2;
            }
        });
        let w;
        if(cg.length===0){
            const ii=up.findIndex(p=>p.role==='impostor');
            up[ii].points+=3;
            cms.forEach(c=>{
                const i=up.findIndex(p=>p.name===c.name);
                up[i].points-=1;
            });
            w='impostor';
        }else{w='crewmate'}
        try{
            await database.ref(`rooms/${rc}`).update({
                players:up,
                correctGuessers:cg,
                winner:w,
                gameState:'results'
            });
        }catch(e){console.error(e)}
    };

    const cr=async()=>{
        if(!in1.trim()||!database)return;
        setLoading(true);
        const c=Math.random().toString(36).substring(2,8).toUpperCase();
        try{
            await database.ref(`rooms/${c}`).set({code:c,host:in1,players:[{name:in1,points:0,role:null,guess:null}],gameState:'lobby',currentRound:0});
            setRc(c);setPn(in1);setIh(true);setS('lobby');
        }catch(e){alert("Hata!")}
        setLoading(false);
    };

    const jr=async()=>{
        if(!in1.trim()||!irc.trim()||!database)return;
        setLoading(true);
        const c=irc.toUpperCase();
        try{
            const rs=await database.ref(`rooms/${c}`).once('value');
            const er=rs.val();
            if(!er){alert("Oda bulunamadÄ±!");setLoading(false);return}
            if(er.players.some(p=>p.name===in1)){alert("Bu isim kullanÄ±lÄ±yor!");setLoading(false);return}
            er.players.push({name:in1,points:0,role:null,guess:null});
            await database.ref(`rooms/${c}`).set(er);
            setRc(c);setPn(in1);setS('lobby');
        }catch(e){alert("Hata!")}
        setLoading(false);
    };

    const sg=async()=>{
        if(!sc||!rm||!ih)return;
        const sh=[...rm.players].sort(()=>Math.random()-.5);
        sh.forEach((p,i)=>{p.role=i===0?'impostor':'crewmate';p.guess=null});
        const w=CAT[sc].words[Math.floor(Math.random()*CAT[sc].words.length)];
        await database.ref(`rooms/${rc}`).set({...rm,players:sh,gameState:'playing',category:sc,selectedWord:w,winner:null,correctGuessers:null});
    };

    const sub=async()=>{
        if(!g.trim()||hg||!database)return;
        const idx=rm.players.findIndex(p=>p.name===pn);
        if(idx===-1||rm.players[idx].role==='impostor')return;
        await database.ref(`rooms/${rc}/players/${idx}/guess`).set(g.trim());
        setHg(true);
    };

    const nr=async()=>{
        if(!ih||!database)return;
        const up=rm.players.map(p=>({...p,role:null,guess:null}));
        await database.ref(`rooms/${rc}`).update({
            gameState:'lobby',
            players:up,
            category:null,
            selectedWord:null,
            winner:null,
            correctGuessers:null
        });
    };

    const st={
        page:{minHeight:'100vh',background:'linear-gradient(135deg,#667eea,#764ba2)',padding:'20px',overflowY:'auto'},
        card:{background:'rgba(255,255,255,0.1)',backdropFilter:'blur(10px)',borderRadius:'20px',padding:'25px'},
        input:{width:'100%',padding:'15px',borderRadius:'10px',background:'rgba(255,255,255,0.2)',color:'white',border:'2px solid rgba(255,255,255,0.3)',outline:'none',fontSize:'16px',boxSizing:'border-box'},
        btn:(bg,dis)=>({width:'100%',background:dis?'rgba(100,100,100,0.5)':bg,color:'white',fontWeight:'bold',padding:'15px',borderRadius:'10px',border:'none',cursor:dis?'not-allowed':'pointer',fontSize:'16px',opacity:dis?.6:1}),
        label:{color:'rgba(255,255,255,0.6)',fontSize:'13px',marginBottom:'6px'},
        white:{color:'white',fontWeight:'600'},
        yellow:{color:'rgb(253,224,71)',fontWeight:'bold'}
    };

    if(s==='menu'){return(
        <div style={{...st.page,display:'flex',alignItems:'center',justifyContent:'center'}}>
            <div style={{...st.card,maxWidth:'400px',width:'100%'}}>
                <h1 style={{fontSize:'40px',fontWeight:'bold',color:'white',textAlign:'center',margin:'0 0 8px 0'}}>ğŸ­ Kim Ä°mpostor?</h1>
                <p style={{color:'rgba(255,255,255,0.5)',textAlign:'center',margin:'0 0 30px 0',fontSize:'13px'}}>Ã‡ok oyunculu gizem oyunu</p>
                {!database&&<div style={{background:'rgba(239,68,68,0.2)',border:'2px solid red',borderRadius:'10px',padding:'12px',marginBottom:'15px'}}><p style={{color:'#fca5a5',margin:0,fontSize:'13px'}}>âš ï¸ Firebase baÄŸlantÄ±sÄ± yok!</p></div>}
                <div style={{display:'flex',flexDirection:'column',gap:'12px'}}>
                    <input type="text" placeholder="Ä°sminizi Girin" value={in1} onChange={e=>setIn(e.target.value)} onKeyDown={e=>e.key==='Enter'&&cr()} style={st.input} maxLength={20}/>
                    <button onClick={cr} disabled={!in1.trim()||!database||loading} style={st.btn('linear-gradient(90deg,rgb(239,68,68),rgb(236,72,153))',!in1.trim()||!database||loading)}>
                        {loading?'BaÄŸlanÄ±yor...':'ğŸ  Oda OluÅŸtur'}
                    </button>
                    <div style={{display:'flex',alignItems:'center',gap:'10px'}}>
                        <div style={{flex:1,borderTop:'1px solid rgba(255,255,255,0.3)'}}></div>
                        <span style={{color:'rgba(255,255,255,0.5)',fontSize:'13px'}}>VEYA</span>
                        <div style={{flex:1,borderTop:'1px solid rgba(255,255,255,0.3)'}}></div>
                    </div>
                    <input type="text" placeholder="Oda Kodunu Girin" value={irc} onChange={e=>setIrc(e.target.value.toUpperCase())} style={{...st.input,textTransform:'uppercase'}} maxLength={6}/>
                    <button onClick={jr} disabled={!in1.trim()||!irc.trim()||!database||loading} style={st.btn('linear-gradient(90deg,rgb(59,130,246),rgb(6,182,212))',!in1.trim()||!irc.trim()||!database||loading)}>
                        {loading?'BaÄŸlanÄ±yor...':'ğŸšª Odaya KatÄ±l'}
                    </button>
                </div>
            </div>
        </div>
    )}

    if(s==='lobby'){return(
        <div style={st.page}>
            <div style={{maxWidth:'600px',margin:'0 auto'}}>
                <div style={{...st.card,textAlign:'center',marginBottom:'15px'}}>
                    <p style={st.label}>Oda Kodu - ArkadaÅŸlarÄ±nÄ±zla paylaÅŸÄ±n</p>
                    <p style={{color:'rgb(253,224,71)',fontFamily:'monospace',fontWeight:'bold',fontSize:'44px',margin:0,letterSpacing:'10px'}}>{rc}</p>
                </div>
                <div style={{...st.card,marginBottom:'15px'}}>
                    <h3 style={{...st.white,margin:'0 0 12px 0'}}>ğŸ‘¥ Oyuncular ({rm?.players?.length||0}/30)</h3>
                    <div style={{display:'flex',flexDirection:'column',gap:'8px'}}>
                        {rm?.players?.map((p,i)=>(
                            <div key={i} style={{background:'rgba(255,255,255,0.15)',borderRadius:'10px',padding:'12px 15px',display:'flex',justifyContent:'space-between',alignItems:'center'}}>
                                <span style={st.white}>{p.name}{p.name===rm.host?' ğŸ‘‘':''}{p.name===pn?' (Sen)':''}</span>
                                <span style={st.yellow}>{p.points} pts</span>
                            </div>
                        ))}
                    </div>
                </div>
                {ih&&(
                    <div style={{...st.card,marginBottom:'15px'}}>
                        <h3 style={{...st.white,margin:'0 0 12px 0'}}>ğŸ“‚ Kategori SeÃ§in</h3>
                        <div style={{display:'grid',gridTemplateColumns:'repeat(2,1fr)',gap:'8px'}}>
                            {Object.keys(CAT).map(k=>(
                                <button key={k} onClick={()=>setSc(k)} style={{padding:'12px',borderRadius:'10px',background:sc===k?'linear-gradient(90deg,rgb(34,197,94),rgb(20,184,166))':'rgba(255,255,255,0.15)',border:sc===k?'2px solid white':'2px solid rgba(255,255,255,0.2)',color:'white',fontWeight:'600',cursor:'pointer',fontSize:'13px'}}>
                                    {CAT[k].name}
                                </button>
                            ))}
                        </div>
                    </div>
                )}
                {ih&&sc&&<button onClick={sg} disabled={!rm?.players||rm.players.length<3} style={st.btn('linear-gradient(90deg,rgb(34,197,94),rgb(5,150,105))',!rm?.players||rm.players.length<3)}>ğŸ® Oyunu BaÅŸlat</button>}
                {ih&&!sc&&<p style={{color:'rgba(255,255,255,0.5)',textAlign:'center',fontSize:'13px'}}>â†‘ Ã–nce bir kategori seÃ§in</p>}
                {!ih&&<div style={{textAlign:'center',color:'rgba(255,255,255,0.5)',padding:'20px'}} className="pulse">â³ Oda sahibi oyunu baÅŸlatmasÄ± bekleniyor...</div>}
            </div>
        </div>
    )}

    if(s==='game'){
        const cms=rm?.players?.filter(p=>p.role==='crewmate')||[];
        const gc=cms.filter(p=>p.guess!==null&&p.guess!==undefined).length;
        return(
            <div style={st.page}>
                <div style={{maxWidth:'600px',margin:'0 auto'}}>
                    {/* ROL KARTI */}
                    <div style={{...st.card,textAlign:'center',marginBottom:'15px'}}>
                        <p style={{...st.label,marginBottom:'10px'}}>Senin RolÃ¼n</p>
                        <div style={{fontSize:'56px',fontWeight:'900',color:mr==='impostor'?'rgb(239,68,68)':'rgb(96,165,250)',marginBottom:'15px'}}>
                            {mr==='impostor'?'ğŸ­ Ä°MPOSTOR':'âœ… TEMÄ°Z'}
                        </div>
                        {mr==='crewmate'&&rm?.selectedWord&&(
                            <div>
                                <p style={st.label}>Kategori Kelimesi</p>
                                <div style={{background:'rgba(96,165,250,0.25)',border:'2px solid rgb(96,165,250)',borderRadius:'12px',padding:'15px',marginBottom:'8px'}}>
                                    <p style={{color:'rgb(253,224,71)',fontWeight:'bold',fontSize:'34px',margin:0}}>{rm.selectedWord}</p>
                                </div>
                                <p style={{color:'rgba(255,255,255,0.4)',fontSize:'11px',margin:0}}>Ä°mpostor bu kelimeyi bilmiyor!</p>
                            </div>
                        )}
                        {mr==='impostor'&&(
                            <div style={{background:'rgba(239,68,68,0.15)',border:'2px solid rgba(239,68,68,0.4)',borderRadius:'12px',padding:'15px'}}>
                                <p style={{color:'rgba(255,255,255,0.7)',fontSize:'14px',margin:'0 0 4px 0'}}>âš ï¸ Kategori kelimesini bilmiyorsun!</p>
                                <p style={{color:'rgba(255,255,255,0.4)',fontSize:'12px',margin:0}}>DiÄŸerleri tartÄ±ÅŸÄ±rken yakalanma!</p>
                            </div>
                        )}
                    </div>

                    {/* TEMÄ°Z â†’ TAHMÄ°N */}
                    {mr==='crewmate'&&(
                        <div style={{...st.card,marginBottom:'15px'}}>
                            <h3 style={{...st.white,margin:'0 0 15px 0'}}>ğŸ” Ä°mpostoru Tahmin Et</h3>
                            {!hg?(
                                <div style={{display:'flex',flexDirection:'column',gap:'10px'}}>
                                    <input type="text" value={g} onChange={e=>setG(e.target.value)} onKeyDown={e=>e.key==='Enter'&&sub()} placeholder="Kimin impostor olduÄŸunu yaz..." style={st.input}/>
                                    <button onClick={sub} disabled={!g.trim()} style={st.btn('linear-gradient(90deg,rgb(168,85,247),rgb(236,72,153))',!g.trim())}>âœ‰ï¸ Tahmini GÃ¶nder</button>
                                </div>
                            ):(
                                <div style={{background:'rgba(34,197,94,0.15)',border:'2px solid rgba(34,197,94,0.4)',borderRadius:'10px',padding:'15px',textAlign:'center'}}>
                                    <p style={{color:'rgb(134,239,172)',fontWeight:'600',fontSize:'16px',margin:'0 0 6px 0'}}>âœ“ Tahmininiz gÃ¶nderildi!</p>
                                    <p style={{color:'rgba(255,255,255,0.7)',margin:0}}>"{g}"</p>
                                    <p style={{color:'rgba(255,255,255,0.4)',fontSize:'12px',margin:'8px 0 0 0'}} className="pulse">â³ DiÄŸerleri bekleniyor...</p>
                                </div>
                            )}
                        </div>
                    )}

                    {/* Ä°MPOSTOR â†’ BEKLÄ°YOR */}
                    {mr==='impostor'&&(
                        <div style={{...st.card,marginBottom:'15px',textAlign:'center'}}>
                            <p style={{color:'rgba(255,255,255,0.6)',margin:0}} className="pulse">â³ DiÄŸer oyuncularÄ±n tahmin etmesi bekleniyor...</p>
                        </div>
                    )}

                    {/* OYUNCU LÄ°STESÄ° - SADECE Ä°SÄ°MLER */}
                    <div style={st.card}>
                        <h3 style={{...st.white,margin:'0 0 5px 0'}}>ğŸ‘¥ Oyuncular</h3>
                        <p style={{color:'rgba(255,255,255,0.4)',fontSize:'12px',margin:'0 0 12px 0'}}>
                            {gc}/{cms.length} kiÅŸi tahminini gÃ¶nderdi
                        </p>
                        <div style={{display:'flex',flexDirection:'column',gap:'8px'}}>
                            {rm?.players?.map((p,i)=>{
                                const isMe=p.name===pn;
                                const showMyStatus=isMe&&p.role==='crewmate';
                                return(
                                    <div key={i} style={{
                                        background:isMe?'rgba(255,255,255,0.25)':'rgba(255,255,255,0.15)',
                                        borderRadius:'10px',padding:'12px 15px',
                                        display:'flex',alignItems:'center',justifyContent:'space-between',
                                        border:isMe?'1px solid rgba(255,255,255,0.4)':'none'
                                    }}>
                                        <span style={{color:'white',fontWeight:'600'}}>{p.name}{isMe?' (Sen)':''}</span>
                                        {showMyStatus&&(
                                            hg
                                                ?<span style={{fontSize:'12px',color:'rgb(74,222,128)'}}>âœ“ GÃ¶nderildi</span>
                                                :<span style={{fontSize:'12px',color:'rgb(250,204,21)'}} className="pulse">â³ Tahmin et</span>
                                        )}
                                    </div>
                                )
                            })}
                        </div>
                    </div>
                </div>
            </div>
        )
    }

    if(s==='results'){
        const imp=rm?.players?.find(p=>p.role==='impostor');
        const sp=[...(rm?.players||[])].sort((a,b)=>b.points-a.points);
        return(
            <div style={st.page}>
                <div style={{maxWidth:'700px',margin:'0 auto'}}>
                    {/* KAZANAN */}
                    <div style={{...st.card,textAlign:'center',marginBottom:'15px'}}>
                        <h2 style={{fontSize:'28px',fontWeight:'bold',color:'white',margin:'0 0 12px 0'}}>ğŸ† SonuÃ§lar</h2>
                        <div style={{fontSize:'38px',fontWeight:'900',color:rm?.winner==='impostor'?'rgb(239,68,68)':'rgb(74,222,128)',marginBottom:'15px'}}>
                            {rm?.winner==='impostor'?'Ä°mpostor KazandÄ±! ğŸ­':'Temizler KazandÄ±! â­'}
                        </div>
                        {rm?.selectedWord&&(
                            <div style={{marginBottom:'15px'}}>
                                <p style={st.label}>Kelime</p>
                                <p style={{...st.yellow,fontSize:'30px',margin:0}}>{rm.selectedWord}</p>
                            </div>
                        )}
                        <div style={{background:'rgba(255,255,255,0.15)',borderRadius:'12px',padding:'15px',display:'inline-block'}}>
                            <p style={{color:'rgba(255,255,255,0.7)',margin:'0 0 8px 0',fontSize:'13px'}}>Ä°mpostor:</p>
                            <span style={{background:'rgb(239,68,68)',padding:'8px 20px',borderRadius:'20px',color:'white',fontWeight:'bold',fontSize:'16px'}}>ğŸ­ {imp?.name}</span>
                        </div>
                    </div>

                    {/* DOÄRU TAHMÄ°N EDENLER */}
                    {rm?.correctGuessers&&rm.correctGuessers.length>0&&(
                        <div style={{background:'rgba(34,197,94,0.15)',border:'2px solid rgba(34,197,94,0.4)',borderRadius:'15px',padding:'18px',marginBottom:'15px'}}>
                            <h3 style={{color:'rgb(134,239,172)',margin:'0 0 10px 0',fontSize:'16px'}}>ğŸ¯ DoÄŸru Tahmin Edenler (+2 puan):</h3>
                            <div style={{display:'flex',flexWrap:'wrap',gap:'8px'}}>
                                {rm.correctGuessers.map((n,i)=>(
                                    <span key={i} style={{background:'rgba(34,197,94,0.35)',padding:'6px 14px',borderRadius:'8px',color:'white',fontWeight:'600',fontSize:'14px'}}>âœ“ {n}</span>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* SKOR TABLOSU */}
                    <div style={{...st.card,marginBottom:'15px'}}>
                        <h3 style={{...st.white,margin:'0 0 12px 0',fontSize:'20px'}}>ğŸ… Skor Tablosu</h3>
                        <div style={{display:'flex',flexDirection:'column',gap:'8px'}}>
                            {sp.map((p,i)=>(
                                <div key={i} style={{borderRadius:'10px',padding:'14px 18px',display:'flex',alignItems:'center',justifyContent:'space-between',background:i===0?'rgba(234,179,8,0.3)':i===1?'rgba(156,163,175,0.2)':i===2?'rgba(249,115,22,0.2)':'rgba(255,255,255,0.15)',border:i===0?'2px solid rgb(234,179,8)':i===1?'1px solid rgb(209,213,219)':i===2?'1px solid rgb(249,115,22)':'none'}}>
                                    <div style={{display:'flex',alignItems:'center',gap:'12px'}}>
                                        <span style={{fontSize:'20px'}}>{i===0?'ğŸ¥‡':i===1?'ğŸ¥ˆ':i===2?'ğŸ¥‰':`#${i+1}`}</span>
                                        <span style={{color:'white',fontWeight:'bold'}}>{p.name}{p.name===pn?' (Sen)':''}</span>
                                        {p.role==='impostor'&&<span style={{background:'rgba(239,68,68,0.5)',padding:'2px 8px',borderRadius:'8px',color:'white',fontSize:'11px'}}>Ä°mpostor</span>}
                                    </div>
                                    <span style={{fontSize:'20px',fontWeight:'bold',color:'rgb(253,224,71)'}}>{p.points}</span>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* YENÄ° TUR - SADECE HOST GÃ–REBÄ°LÄ°R */}
                    {ih?(
                        <button onClick={nr} style={st.btn('linear-gradient(90deg,rgb(59,130,246),rgb(6,182,212))',false)}>
                            ğŸ”„ Yeni Tur BaÅŸlat
                        </button>
                    ):(
                        <div style={{...st.card,textAlign:'center'}}>
                            <p style={{color:'rgba(255,255,255,0.6)',margin:0}} className="pulse">â³ Oda sahibinin yeni tur baÅŸlatmasÄ± bekleniyor...</p>
                        </div>
                    )}
                </div>
            </div>
        )
    }
    return null;
}
ReactDOM.render(React.createElement(App),document.getElementById('root'));
</script></body></html>
