<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Kim Ä°mpostor?</title><script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script><script src="https://unpkg.com/react@18/umd/react.production.min.js"></script><script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script><script src="https://unpkg.com/@babel/standalone/babel.min.js"></script><script src="https://cdn.tailwindcss.com"></script><style>*{-webkit-tap-highlight-color:transparent}body{margin:0;padding:0;overflow:hidden;position:fixed;width:100%;height:100%}#root{width:100%;height:100%;overflow-y:auto}input,button,select{font-size:16px!important}.pulse{animation:pulse 2s cubic-bezier(0.4,0,0.6,1) infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}</style></head><body><div id="root"></div><script type="text/babel">const{useState,useEffect,useRef}=React;const firebaseConfig={apiKey:"AIzaSyDiuOvT3TECVgnKpYSdcEadtcj0eirVLR4",authDomain:"imposter-iyzc-is.firebaseapp.com",databaseURL:"https://imposter-iyzc-is-default-rtdb.firebaseio.com",projectId:"imposter-iyzc-is",storageBucket:"imposter-iyzc-is.firebasestorage.app",messagingSenderId:"434645266924",appId:"1:434645266924:web:6e0f6fd9d49546cdf050c9"};let database;try{if(!firebase.apps.length)firebase.initializeApp(firebaseConfig);database=firebase.database();console.log("Firebase OK")}catch(e){console.error(e)}const CAT={movies:{name:"ðŸŽ¬ Filmler",words:["Inception","Titanik","Avatar","Harry Potter","Star Wars","Matrix","Breaking Bad","Friends","Squid Game"]},music:{name:"ðŸŽµ MÃ¼zik",words:["Tarkan","Beyonce","Taylor Swift","Ed Sheeran","Queen","Beatles","Coldplay"]},sports:{name:"âš½ Spor",words:["Messi","Ronaldo","Galatasaray","FenerbahÃ§e","Barcelona","Real Madrid"]},games:{name:"ðŸŽ® Oyunlar",words:["Minecraft","Fortnite","Among Us","FIFA","GTA","Valorant","PUBG"]},food:{name:"ðŸ” Yemek",words:["Pizza","Burger","Kebap","Sushi","Pasta","Baklava","DÃ¶ner"]}};function App(){const[s,setS]=useState('menu');const[pn,setPn]=useState('');const[rc,setRc]=useState('');const[irc,setIrc]=useState('');const[in1,setIn]=useState('');const[rm,setRm]=useState(null);const[ih,setIh]=useState(false);const[sc,setSc]=useState(null);const[mr,setMr]=useState(null);const[g,setG]=useState('');const[hg,setHg]=useState(false);const rr=useRef(null);useEffect(()=>{if(!rc||!database)return;rr.current=database.ref(`rooms/${rc}`);const l=rr.current.on('value',snap=>{const d=snap.val();if(d){setRm(d);if(d.gameState==='playing'&&s!=='game'){const mp=d.players?.find(p=>p.name===pn);if(mp){setMr(mp.role);setS('game')}}else if(d.gameState==='results')setS('results')}});return()=>{if(rr.current)rr.current.off('value',l)}},[rc,pn,s]);const cr=async()=>{if(!in1.trim()||!database)return;const c=Math.random().toString(36).substring(2,8).toUpperCase();try{await database.ref(`rooms/${c}`).set({code:c,host:in1,players:[{name:in1,points:0,role:null,guess:null}],gameState:'lobby',currentRound:0});setRc(c);setPn(in1);setIh(true);setS('lobby')}catch(e){alert("Hata!")}};const jr=async()=>{if(!in1.trim()||!irc.trim()||!database)return;const c=irc.toUpperCase();try{const rs=await database.ref(`rooms/${c}`).once('value');const er=rs.val();if(!er){alert("Oda yok!");return}er.players.push({name:in1,points:0,role:null,guess:null});await database.ref(`rooms/${c}`).set(er);setRc(c);setPn(in1);setS('lobby')}catch(e){alert("Hata!")}};const sg=async()=>{if(!sc||!rm||!ih)return;const sh=[...rm.players].sort(()=>Math.random()-.5);sh.forEach((p,i)=>{p.role=i===0?'impostor':'crewmate';p.guess=null});const w=CAT[sc].words[Math.floor(Math.random()*CAT[sc].words.length)];await database.ref(`rooms/${rc}`).set({...rm,players:sh,gameState:'playing',category:sc,selectedWord:w})};const sub=async()=>{if(!g.trim()||hg)return;const idx=rm.players.findIndex(p=>p.name===pn);if(idx===-1||rm.players[idx].role==='impostor')return;await database.ref(`rooms/${rc}/players/${idx}/guess`).set(g.trim());setHg(true);if(ih){setTimeout(async()=>{const snap=await database.ref(`rooms/${rc}`).once('value');const cr=snap.val();const cms=cr.players.filter(p=>p.role==='crewmate');if(cms.every(p=>p.guess)){const imp=cr.players.find(p=>p.role==='impostor');const cg=[];const up=[...cr.players];cms.forEach(pl=>{const pi=up.findIndex(p=>p.name===pl.name);if(imp.name.toLowerCase()===pl.guess?.toLowerCase()){cg.push(pl.name);up[pi].points+=2}});let w;if(cg.length===0){const ii=up.findIndex(p=>p.role==='impostor');up[ii].points+=3;cms.forEach(c=>{const i=up.findIndex(p=>p.name===c.name);up[i].points-=1});w='impostor'}else{w='crewmate'}await database.ref(`rooms/${rc}`).update({players:up,correctGuessers:cg,winner:w,gameState:'results'})}},500)}};const nr=async()=>{if(!ih)return;const up=rm.players.map(p=>({...p,role:null,guess:null}));await database.ref(`rooms/${rc}`).update({gameState:'lobby',players:up,category:null,selectedWord:null,winner:null});setMr(null);setHg(false);setG('');setSc(null);setS('lobby')};if(s==='menu'){return React.createElement('div',{style:{minHeight:'100vh',background:'linear-gradient(135deg,#667eea,#764ba2)',display:'flex',alignItems:'center',justifyContent:'center',padding:'20px'}},React.createElement('div',{style:{background:'rgba(255,255,255,0.1)',backdropFilter:'blur(10px)',borderRadius:'20px',padding:'40px',maxWidth:'400px',width:'100%'}},React.createElement('h1',{style:{fontSize:'48px',fontWeight:'bold',color:'white',textAlign:'center',marginBottom:'40px'}},'Kim Ä°mpostor?'),!database&&React.createElement('div',{style:{background:'rgba(239,68,68,0.2)',border:'2px solid rgb(239,68,68)',borderRadius:'10px',padding:'15px',marginBottom:'20px'}},React.createElement('p',{style:{color:'rgb(252,165,165)',fontSize:'14px'}},'âš ï¸ Firebase yok!')),React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'20px'}},React.createElement('input',{type:'text',placeholder:'Ä°sminizi Girin',value:in1,onChange:e=>setIn(e.target.value),style:{width:'100%',padding:'15px',borderRadius:'10px',background:'rgba(255,255,255,0.2)',color:'white',border:'2px solid rgba(255,255,255,0.3)',outline:'none',fontSize:'16px'},maxLength:20}),React.createElement('button',{onClick:cr,disabled:!in1.trim()||!database,style:{width:'100%',background:'linear-gradient(90deg,rgb(239,68,68),rgb(236,72,153))',color:'white',fontWeight:'bold',padding:'15px',borderRadius:'10px',border:'none',cursor:'pointer',fontSize:'16px',opacity:(!in1.trim()||!database)?.5:1}},'Oda OluÅŸtur'),React.createElement('div',{style:{position:'relative',textAlign:'center'}},React.createElement('div',{style:{position:'absolute',top:'50%',left:0,right:0,borderTop:'1px solid rgba(255,255,255,0.3)'}}),React.createElement('span',{style:{position:'relative',background:'transparent',padding:'0 10px',color:'rgba(255,255,255,0.6)',fontSize:'14px'}},'VEYA')),React.createElement('input',{type:'text',placeholder:'Oda Kodu',value:irc,onChange:e=>setIrc(e.target.value.toUpperCase()),style:{width:'100%',padding:'15px',borderRadius:'10px',background:'rgba(255,255,255,0.2)',color:'white',border:'2px solid rgba(255,255,255,0.3)',outline:'none',fontSize:'16px',textTransform:'uppercase'},maxLength:6}),React.createElement('button',{onClick:jr,disabled:!in1.trim()||!irc.trim()||!database,style:{width:'100%',background:'linear-gradient(90deg,rgb(59,130,246),rgb(6,182,212))',color:'white',fontWeight:'bold',padding:'15px',borderRadius:'10px',border:'none',cursor:'pointer',fontSize:'16px',opacity:(!in1.trim()||!irc.trim()||!database)?.5:1}},'KatÄ±l'))))}if(s==='lobby'){return React.createElement('div',{style:{minHeight:'100vh',background:'linear-gradient(135deg,#667eea,#764ba2)',padding:'20px'}},React.createElement('div',{style:{maxWidth:'600px',margin:'0 auto'}},React.createElement('div',{style:{textAlign:'center',marginBottom:'30px'}},React.createElement('p',{style:{color:'rgba(255,255,255,0.6)',fontSize:'14px'}},'Oda Kodu'),React.createElement('p',{style:{color:'rgb(253,224,71)',fontFamily:'monospace',fontWeight:'bold',fontSize:'32px'}},rc)),React.createElement('h2',{style:{fontSize:'24px',fontWeight:'bold',color:'white',textAlign:'center',marginBottom:'30px'}},'Oyuncular Bekleniyor...'),React.createElement('div',{style:{background:'rgba(255,255,255,0.1)',borderRadius:'15px',padding:'20px',marginBottom:'30px'}},React.createElement('h3',{style:{color:'white',fontWeight:'bold',marginBottom:'15px'}},'Oyuncular (',rm?.players?.length||0,'/30)'),React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'10px'}},rm?.players?.map((p,i)=>React.createElement('div',{key:i,style:{background:'rgba(255,255,255,0.2)',borderRadius:'10px',padding:'15px',display:'flex',justifyContent:'space-between',alignItems:'center'}},React.createElement('span',{style:{color:'white',fontWeight:'600'}},p.name,' ',p.name===rm.host&&'ðŸ‘‘'),React.createElement('span',{style:{color:'rgb(253,224,71)'}},p.points,' pts'))))),ih&&!sc&&React.createElement('div',{style:{background:'rgba(255,255,255,0.1)',borderRadius:'15px',padding:'20px',marginBottom:'20px'}},React.createElement('h3',{style:{color:'white',fontWeight:'bold',marginBottom:'15px'}},'Kategori SeÃ§in'),React.createElement('div',{style:{display:'grid',gridTemplateColumns:'repeat(2,1fr)',gap:'10px'}},Object.keys(CAT).map(k=>React.createElement('button',{key:k,onClick:()=>setSc(k),style:{padding:'15px',borderRadius:'10px',background:sc===k?'linear-gradient(90deg,rgb(34,197,94),rgb(20,184,166))':'rgba(255,255,255,0.2)',border:sc===k?'2px solid white':'2px solid rgba(255,255,255,0.3)',color:'white',fontWeight:'600',cursor:'pointer',fontSize:'14px'}},CAT[k].name)))),ih&&sc&&React.createElement('button',{onClick:sg,disabled:rm?.players?.length<3,style:{width:'100%',background:'linear-gradient(90deg,rgb(34,197,94),rgb(5,150,105))',color:'white',fontWeight:'bold',padding:'15px',borderRadius:'10px',border:'none',cursor:'pointer',fontSize:'18px',opacity:rm?.players?.length<3?.5:1}},'BaÅŸlat'),!ih&&React.createElement('div',{style:{textAlign:'center',color:'rgba(255,255,255,0.6)',padding:'15px'}},'Bekleniyor...')))}if(s==='game'){const imp=rm?.players?.find(p=>p.role==='impostor');const cms=rm?.players?.filter(p=>p.role==='crewmate')||[];const gc=cms.filter(p=>p.guess!==null).length;return React.createElement('div',{style:{minHeight:'100vh',background:'linear-gradient(135deg,#667eea,#764ba2)',padding:'20px',overflowY:'auto'}},React.createElement('div',{style:{maxWidth:'600px',margin:'0 auto'}},React.createElement('div',{style:{textAlign:'center',marginBottom:'40px'}},React.createElement('h2',{style:{fontSize:'20px',color:'white',marginBottom:'15px'}},'RolÃ¼nÃ¼z'),React.createElement('div',{style:{fontSize:'56px',fontWeight:'900',color:mr==='impostor'?'rgb(239,68,68)':'rgb(96,165,250)',marginBottom:'20px'}},mr==='impostor'?'Ä°MPOSTOR':'TEMÄ°Z'),mr==='crewmate'&&rm?.selectedWord&&React.createElement('div',{style:{marginBottom:'20px'}},React.createElement('p',{style:{color:'rgba(255,255,255,0.6)',fontSize:'14px',marginBottom:'10px'}},'Kelime'),React.createElement('div',{style:{background:'rgba(96,165,250,0.3)',border:'2px solid rgb(96,165,250)',borderRadius:'15px',padding:'20px'}},React.createElement('p',{style:{color:'rgb(253,224,71)',fontWeight:'bold',fontSize:'28px'}},rm.selectedWord)))),mr==='crewmate'&&React.createElement('div',{style:{background:'rgba(255,255,255,0.1)',borderRadius:'15px',padding:'25px',marginBottom:'30px'}},React.createElement('h3',{style:{fontSize:'20px',fontWeight:'bold',color:'white',marginBottom:'20px'}},'Ä°mpostoru Tahmin Et'),!hg?React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'15px'}},React.createElement('input',{type:'text',value:g,onChange:e=>setG(e.target.value),placeholder:'Ä°sim',style:{width:'100%',padding:'15px',borderRadius:'10px',background:'rgba(255,255,255,0.2)',color:'white',border:'2px solid rgba(255,255,255,0.3)',outline:'none',fontSize:'16px'}}),React.createElement('button',{onClick:sub,disabled:!g.trim(),style:{width:'100%',background:'linear-gradient(90deg,rgb(168,85,247),rgb(236,72,153))',color:'white',fontWeight:'bold',padding:'15px',borderRadius:'10px',border:'none',cursor:'pointer',fontSize:'16px',opacity:!g.trim()?.5:1}},'GÃ¶nder')):React.createElement('div',{style:{background:'rgba(34,197,94,0.2)',border:'1px solid rgba(34,197,94,0.5)',borderRadius:'10px',padding:'20px',textAlign:'center'}},React.createElement('p',{style:{color:'rgb(134,239,172)',fontWeight:'600',fontSize:'18px',marginBottom:'10px'}},'âœ“ Kaydedildi'),React.createElement('p',{style:{color:'white'}},g))),React.createElement('div',{style:{background:'rgba(255,255,255,0.1)',borderRadius:'15px',padding:'25px'}},React.createElement('h3',{style:{fontSize:'18px',fontWeight:'bold',color:'white',marginBottom:'15px'}},'Oylama (',gc,'/',cms.length,')'),React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'10px'}},rm?.players?.map((p,i)=>React.createElement('div',{key:i,style:{background:'rgba(255,255,255,0.2)',borderRadius:'10px',padding:'15px',display:'flex',alignItems:'center',justifyContent:'space-between'}},React.createElement('span',{style:{color:'white',fontWeight:'600'}},p.name),p.role==='crewmate'&&React.createElement('span',{style:{fontSize:'14px',color:p.guess?'rgb(74,222,128)':'rgb(250,204,21)'}},p.guess?'âœ“':'â³'),p.role==='impostor'&&React.createElement('span',{style:{fontSize:'14px',color:'rgb(239,68,68)'}},'ðŸŽ­')))))))}if(s==='results'){const imp=rm?.players?.find(p=>p.role==='impostor');const sp=[...(rm?.players||[])].sort((a,b)=>b.points-a.points);return React.createElement('div',{style:{minHeight:'100vh',background:'linear-gradient(135deg,#667eea,#764ba2)',padding:'20px',overflowY:'auto'}},React.createElement('div',{style:{maxWidth:'700px',margin:'0 auto'}},React.createElement('div',{style:{textAlign:'center',marginBottom:'40px'}},React.createElement('h2',{style:{fontSize:'32px',fontWeight:'bold',color:'white',marginBottom:'20px'}},'SonuÃ§lar'),React.createElement('div',{style:{fontSize:'48px',fontWeight:'900',color:rm?.winner==='impostor'?'rgb(239,68,68)':'rgb(74,222,128)',marginBottom:'20px'}},rm?.winner==='impostor'?'Ä°mpostor KazandÄ±! ðŸŽ­':'Temizler KazandÄ±! â­'),rm?.selectedWord&&React.createElement('div',{style:{marginBottom:'20px'}},React.createElement('p',{style:{color:'rgba(255,255,255,0.6)',fontSize:'14px',marginBottom:'10px'}},'Kelime'),React.createElement('p',{style:{color:'rgb(253,224,71)',fontWeight:'bold',fontSize:'28px'}},rm.selectedWord)),React.createElement('div',{style:{background:'rgba(255,255,255,0.2)',borderRadius:'15px',padding:'20px',display:'inline-block'}},React.createElement('p',{style:{color:'rgba(255,255,255,0.8)',marginBottom:'10px'}},'Ä°mpostor:'),React.createElement('span',{style:{background:'rgb(239,68,68)',padding:'10px 20px',borderRadius:'25px',color:'white',fontWeight:'bold'}},'ðŸŽ­ ',imp?.name))),rm?.correctGuessers&&rm.correctGuessers.length>0&&React.createElement('div',{style:{background:'rgba(34,197,94,0.2)',border:'1px solid rgba(34,197,94,0.5)',borderRadius:'15px',padding:'25px',marginBottom:'30px'}},React.createElement('h3',{style:{fontSize:'20px',fontWeight:'bold',color:'rgb(134,239,172)',marginBottom:'15px'}},'DoÄŸru Tahmin:'),React.createElement('div',{style:{display:'flex',flexWrap:'wrap',gap:'10px'}},rm.correctGuessers.map((n,i)=>React.createElement('span',{key:i,style:{background:'rgba(34,197,94,0.4)',padding:'10px 15px',borderRadius:'10px',color:'white',fontWeight:'600'}},'âœ“ ',n,' (+2)')))),React.createElement('div',{style:{background:'rgba(255,255,255,0.1)',borderRadius:'15px',padding:'25px',marginBottom:'30px'}},React.createElement('h3',{style:{fontSize:'24px',fontWeight:'bold',color:'white',marginBottom:'20px'}},'Skorlar'),React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'10px'}},sp.map((p,i)=>React.createElement('div',{key:i,style:{borderRadius:'10px',padding:'20px',display:'flex',alignItems:'center',justifyContent:'space-between',background:i===0?'rgba(234,179,8,0.3)':i===1?'rgba(156,163,175,0.2)':i===2?'rgba(249,115,22,0.2)':'rgba(255,255,255,0.2)',border:i===0?'2px solid rgb(234,179,8)':i===1?'1px solid rgb(209,213,219)':i===2?'1px solid rgb(249,115,22)':'none'}},React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'15px'}},React.createElement('span',{style:{fontSize:'20px',fontWeight:'bold',color:'rgba(255,255,255,0.6)'}},'#',i+1),React.createElement('span',{style:{color:'white',fontWeight:'bold'}},p.name)),React.createElement('span',{style:{fontSize:'20px',fontWeight:'bold',color:'rgb(253,224,71)'}},p.points))))),ih&&React.createElement('button',{onClick:nr,style:{width:'100%',background:'linear-gradient(90deg,rgb(59,130,246),rgb(6,182,212))',color:'white',fontWeight:'bold',padding:'15px',borderRadius:'10px',border:'none',cursor:'pointer',fontSize:'18px'}},'Yeni Tur')))}return null}ReactDOM.render(React.createElement(App),document.getElementById('root'));</script></body></html>
